<section class="mp-background">
  <!-- login -->
  <div class=" container d-flex flex-column min-vh-100 font-sans">
    <!-- Main Content (flex row for panels) -->
    <div class="row d-flex flex-grow-1">
      <div class="col-lg-12 z-1 pt-4">
             <!-- Logo -->
        <img src="image.png" alt="MasrPay Logo" class="mb-4 z-1" style="width: 10rem;" />
      </div>
      <!-- Left Panel with diagonal shapes -->
      <div class="d-md-flex col-lg-6 col-md-12  justify-content-start align-items-start px-4">
     
        <div class="col-lg-10 col-md-12 m-auto">
          <!-- Welcome text (centered lower) -->
        <div class="position-relative z-0 m-auto text-center" >
        <h2 class="fw-bold text-dark mb-3">
              Welcome to the MasrPay <br>
              <span style="font-size: 20px; font-weight: 400;">operations dashboard.</span>
            </h2>
            <p class="text-secondary col-lg-12 col-sm-8 text-sm-center mx-auto">
              Monitor system performance, manage merchant activity, and keep everything running smoothly.
              Designed for precision, built to support mission-critical decisions..
            </p>
        </div>
      
        
        
        </div>
      </div>
      <!-- Right Panel (Login Form) -->
      <div class="col-lg-6 col-md-12 d-flex align-items-center justify-content-center px-3 pb-5 z-1">
        <div class="w-100" style="max-width: 28rem;">
          <div class="border border-secondary  rounded p-4">
            <h2 class="h4 fw-semibold text-center text-dark mb-4">Sign in</h2>
            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
              <!-- Username -->
              <div class="mb-3">
                <label class="form-label text-secondary">Username</label>
                <input style="font-size: small;"
                  type="text"
                  formControlName="username"
                  placeholder="Enter your username"
                  class="form-control"/>
                <div *ngIf="loginForm.get('username')?.touched && loginForm.get('username')?.invalid" class="form-text text-danger">
                  Username is required.
                </div>
              </div>
              <!-- Password -->
              <div class="mb-3">
                <label class="form-label text-secondary">Password</label>
                <div class="position-relative">
                  <input
                  style="font-size: small;"
                    [type]="showPassword ? 'text' : 'password'"
                    formControlName="password"
                    placeholder="Enter password"
                    class="form-control pe-5"/>
                  <button
                    type="button"
                    (click)="togglePasswordVisibility()"
                    class="btn btn-link position-absolute end-0 top-50 translate-middle-y p-0"
                    tabindex="-1"
                    style="color: #6c757d;">
                    <svg *ngIf="!showPassword" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                    </svg>
                    <svg *ngIf="showPassword" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path>
                    </svg>
                  </button>
                </div>
                <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid" class="form-text text-danger">
                  Password is required.
                </div>
              </div>
              <div  class="text-end" style="font-size: small;">
                <button type="button" class="btn btn-link p-0 text-dark text-decoration-underline" (click)="goToForgotPassword()">Forgot password?</button>
              </div>
              <!-- CAPTCHA Section -->
              <div class="mb-3">
                <label class="form-label text-secondary pe-2" style="font-size: 15px;">CAPTCHA</label>
                <img [src]="captchaImage" *ngIf="captchaImage" width="20%" height="20%" class="mb-2 border border-2" />
                <input
                  type="text"
                  formControlName="captcha"
                  placeholder="Enter captcha code"
                  class="form-control"/>
                <div class="text-end mb-3" style="font-size: small;">
                    <button type="button" (click)="loadCaptcha()" class="btn btn-reload btn-sm my-1" style="font-size: small;">↻ Reload CAPTCHA</button>
                </div>
                <div *ngIf="loginForm.get('captcha')?.touched && loginForm.get('captcha')?.invalid" class="form-text text-danger">
                  CAPTCHA is required.
                </div>
              </div>

              <button
                type="submit"
                [disabled]="loginForm.invalid"
                class="btn w-100 mt-2 text-white fw-semibold shadow-sm"
                style="background-color: rgb(204, 23, 30);">
                Sign in
              </button>
            </form>
          </div>
        </div>
      </div>
      <!-- footer -->
      <div class="row text-sm-center">
        <div class="col-lg-6 col-sm-12">
           <button type="button" class="btn btn-link me-3 text-dark modal-link p-0" (click)="openTermsModal()">Terms & conditions</button>
           <button type="button" class="btn btn-link text-dark modal-link p-0" (click)="openSupportModal()">Support</button>
        </div>
        <div class="col-lg-6 col-sm-12 text-lg-end">
          <p>©️ 2025 MasrPay. All rights reserved.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Components - NEW ADDITION -->
  <app-modal 
    [isOpen]="showTermsModal" 
    title="Terms & Conditions" 
    [content]="getTermsContent()"
    (closeModal)="closeTermsModal()">
  </app-modal>

  <app-modal 
    [isOpen]="showSupportModal" 
    title="Support" 
    [content]="getSupportContent()"
    (closeModal)="closeSupportModal()">
  </app-modal>

</section>

 
